<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Archlinux install - Borer&#39;s Blog</title><meta name="Description" content="个人分享记录"><meta property="og:title" content="Archlinux install" />
<meta property="og:description" content="Install arch-linux(Xfce.UEFI) and integral things from USB-Live" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://januborer.github.io/archlinux_install/" /><meta property="og:image" content="https://januborer.github.io/borer.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-18T03:47:09+08:00" />
<meta property="article:modified_time" content="2021-05-18T03:47:09+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://januborer.github.io/borer.png"/>

<meta name="twitter:title" content="Archlinux install"/>
<meta name="twitter:description" content="Install arch-linux(Xfce.UEFI) and integral things from USB-Live"/>
<meta name="application-name" content="Borer&#39;s blog">
<meta name="apple-mobile-web-app-title" content="Borer&#39;s blog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/borer.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://januborer.github.io/archlinux_install/" /><link rel="next" href="https://januborer.github.io/hugo-generate-site/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Archlinux install",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/januborer.github.io\/archlinux_install\/"
        },"image": ["https:\/\/januborer.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "Linux, Archlinux","wordcount":  753 ,
        "url": "https:\/\/januborer.github.io\/archlinux_install\/","datePublished": "2021-05-18T03:47:09+08:00","dateModified": "2021-05-18T03:47:09+08:00","license": "borer","publisher": {
            "@type": "Organization",
            "name": "borer","logo": "https:\/\/januborer.github.io\/borer.png"},"author": {
                "@type": "Person",
                "name": "borer"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Borer&#39;s Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/borer.png"
        data-srcset="/borer.png, /borer.png 1.5x, /borer.png 2x"
        data-sizes="auto"
        alt="/borer.png"
        title="/borer.png" /><span id="id-1" class="typeit"></span><span class="header-title-post">  philosophy</span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/" title="All articles"><i class='fas fa-blog'></i> Posts </a><a class="menu-item" href="/tags/" title="All tags"><i class='fas fa-tag'></i> Tags </a><a class="menu-item" href="/categories/" title="All categories"><i class='fas fa-archive'></i> Categories </a><a class="menu-item" href="/links/" title="Links"><i class='fas fa-paperclip'></i> Links </a><a class="menu-item" href="/about/" title="About me"><i class='far fa-address-card'></i> About </a><a class="menu-item" href="https://github.com/januborer" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><a class="menu-item" href="https://www.rust-lang.org/" title="Rust" rel="noopener noreffer" target="_blank"><i class='fab fa-rust'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="linux" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Borer&#39;s Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/borer.png"
        data-srcset="/borer.png, /borer.png 1.5x, /borer.png 2x"
        data-sizes="auto"
        alt="/borer.png"
        title="/borer.png" /><span id="id-2" class="typeit"></span><span class="header-title-post">  philosophy</span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="linux" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="All articles"><i class='fas fa-blog'></i>Posts</a><a class="menu-item" href="/tags/" title="All tags"><i class='fas fa-tag'></i>Tags</a><a class="menu-item" href="/categories/" title="All categories"><i class='fas fa-archive'></i>Categories</a><a class="menu-item" href="/links/" title="Links"><i class='fas fa-paperclip'></i>Links</a><a class="menu-item" href="/about/" title="About me"><i class='far fa-address-card'></i>About</a><a class="menu-item" href="https://github.com/januborer" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a class="menu-item" href="https://www.rust-lang.org/" title="Rust" rel="noopener noreffer" target="_blank"><i class='fab fa-rust'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Archlinux install</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/januborer" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>borer</a></span>&nbsp;<span class="post-category">included in <a href="/categories/linux/"><i class="far fa-folder fa-fw"></i>Linux</a>&nbsp;<a href="/categories/hunt/"><i class="far fa-folder fa-fw"></i>Hunt</a>&nbsp;<a href="/categories/archlinux/"><i class="far fa-folder fa-fw"></i>Archlinux</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-05-18">2021-05-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;753 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://cdn5.maocdn.cn/img/2021/06/15/wp2618249-blackarch-wallpaper.png"
        data-srcset="https://cdn5.maocdn.cn/img/2021/06/15/wp2618249-blackarch-wallpaper.png, https://cdn5.maocdn.cn/img/2021/06/15/wp2618249-blackarch-wallpaper.png 1.5x, https://cdn5.maocdn.cn/img/2021/06/15/wp2618249-blackarch-wallpaper.png 2x"
        data-sizes="auto"
        alt="https://cdn5.maocdn.cn/img/2021/06/15/wp2618249-blackarch-wallpaper.png"
        title="https://cdn5.maocdn.cn/img/2021/06/15/wp2618249-blackarch-wallpaper.png" /></div><div class="details toc" id="toc-static"  kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#make-a-u-boot-disk">Make a U boot disk</a></li>
    <li><a href="#install-archlinux-system">install archlinux system</a>
      <ul>
        <li>
          <ul>
            <li>
              <ul>
                <li><a href="#check-efi">check efi</a></li>
                <li><a href="#connect-wifi-used-iwctl">connect wifi used iwctl</a></li>
                <li><a href="#update-your-systemtime">update your systemtime</a></li>
                <li><a href="#disk-partition">disk partition</a></li>
                <li><a href="#disk-formatting">disk formatting</a></li>
                <li><a href="#mount-partitions">mount partitions</a></li>
                <li><a href="#install-linux-and-other-necessary-things">install linux and other necessary things</a></li>
                <li><a href="#config-system">config system</a></li>
                <li><a href="#enter-your-installed-archlinux">enter your installed archlinux</a></li>
                <li><a href="#set-zone">set zone</a></li>
                <li><a href="#locale-setting">locale setting</a></li>
                <li><a href="#network-setting">network setting</a></li>
                <li><a href="#set-root-password">set root password</a></li>
                <li><a href="#grub">grub</a></li>
                <li><a href="#install-network-control-tool--iwd">install network control tool : iwd</a></li>
                <li><a href="#config-your-network">config your network</a></li>
                <li><a href="#add-user">add user</a></li>
                <li><a href="#give-user-sudo-permission">give user sudo permission</a></li>
                <li><a href="#install-fonts">install fonts</a></li>
                <li><a href="#some-other-softwares">some other softwares</a></li>
                <li><a href="#last">last</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#after-entering-arch">after entering arch</a>
      <ul>
        <li>
          <ul>
            <li>
              <ul>
                <li><a href="#install-display-service">install display service</a></li>
                <li><a href="#install-xfce4-desktop">install xfce4 desktop</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="make-a-u-boot-disk">Make a U boot disk</h2>
<p><strong>notes:</strong></p>
<ul>
<li>install archlinux from USB-Live</li>
<li>UEFI model install</li>
<li>something in square brackets is option</li>
<li>makeing a USB boot disk can search by gogole</li>
</ul>
<h2 id="install-archlinux-system">install archlinux system</h2>
<h5 id="check-efi">check efi</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ls /sys/firmware/efi/efivars
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="connect-wifi-used-iwctl">connect wifi used iwctl</h5>
<p>If your wifi device the property Powered is off,and your device adapter the property Powered is off also,you should turn on the both.you can exec the following command in iwctl:</p>
<p>note:my adapter is phy0 and wifi device is wlan0</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">iwctl
</span></span><span class="line"><span class="cl">//show your adapter list
</span></span><span class="line"><span class="cl">adapter list
</span></span><span class="line"><span class="cl">//show your device
</span></span><span class="line"><span class="cl">device list
</span></span><span class="line"><span class="cl">adapter &lt;adatper-name&gt; set-property Powered on
</span></span><span class="line"><span class="cl">device &lt;device-name&gt; set-property Powered on
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//scan wifi around
</span></span><span class="line"><span class="cl">station &lt;devicename&gt; scan
</span></span><span class="line"><span class="cl">//show the result that scan
</span></span><span class="line"><span class="cl">station &lt;devicename&gt; get-networks
</span></span><span class="line"><span class="cl">//connect the specified wifi
</span></span><span class="line"><span class="cl">station &lt;devicename&gt; connect &lt;wifi-ssid&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="update-your-systemtime">update your systemtime</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">timedatectl set-ntp true
</span></span><span class="line"><span class="cl">timedatectl status
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="disk-partition">disk partition</h5>
<p>I separate my disk : efi(1G),root(50G),home(180G),swap(30G)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//list your all disks
</span></span><span class="line"><span class="cl">fdisk -l
</span></span><span class="line"><span class="cl">//disk your choose partition---note that root partition is necessary
</span></span><span class="line"><span class="cl">fdisk /dev/&lt;your partition&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="disk-formatting">disk formatting</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//root home is ext4 or other
</span></span><span class="line"><span class="cl">mkfs.ext4 /dev/&lt;your root/home partition&gt;
</span></span><span class="line"><span class="cl">//UEFI--EFI
</span></span><span class="line"><span class="cl">mkfs.fat -F32 /dev/&lt;your efi partition&gt;
</span></span><span class="line"><span class="cl">//swapp
</span></span><span class="line"><span class="cl">mkswap /dev/&lt;your swap partition&gt;
</span></span><span class="line"><span class="cl">swapon /dev/&lt;your swap partition&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="mount-partitions">mount partitions</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">mount /dev/&lt;your root partition&gt; /mnt
</span></span><span class="line"><span class="cl">mkdir /mnt/efi
</span></span><span class="line"><span class="cl">mount /dev/&lt;your efi partition&gt; /mnt/efi
</span></span><span class="line"><span class="cl">mkdir /mnt/home
</span></span><span class="line"><span class="cl">mount /dev/&lt;your home partition&gt; /mnt/home
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="install-linux-and-other-necessary-things">install linux and other necessary things</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pacstrap /mnt base linux linux-firmware base-devel vim
</span></span></code></pre></td></tr></table>
</div>
</div><p>**notes: **you have completed the base installation.</p>
<h5 id="config-system">config system</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//create fstab file
</span></span><span class="line"><span class="cl">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</span></span><span class="line"><span class="cl">//check fstab
</span></span><span class="line"><span class="cl">cat /mnt/etc/fstab
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="enter-your-installed-archlinux">enter your installed archlinux</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">arch-chroot /mnt
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="set-zone">set zone</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ls /usr/share/zoneinfo
</span></span><span class="line"><span class="cl">ln -sf /usr/share/zoneinfo/&lt;your Region&gt;/&lt;your City&gt; /etc/localtime
</span></span><span class="line"><span class="cl">hwclock --systohc --utc
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="locale-setting">locale setting</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//uncomment:en_US UTF-8,zh_CN UTF-8
</span></span><span class="line"><span class="cl">vim /etc/locale.gen
</span></span><span class="line"><span class="cl">locale-gen
</span></span><span class="line"><span class="cl">echo &#34;LANG=en_US.UTF-8&#34; &gt; /etc/locale.conf
</span></span><span class="line"><span class="cl">export LANG=en_US.UTF-8
</span></span><span class="line"><span class="cl">echo myarch &gt; /etc/hostname
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="network-setting">network setting</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 127.0.0.1 localhost
</span></span><span class="line"><span class="cl">// ::1 localhost
</span></span><span class="line"><span class="cl">// 127.0.1.1 myarch
</span></span><span class="line"><span class="cl">vim /etc/hosts
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="set-root-password">set root password</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">passwd root
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="grub">grub</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pacman -S grub efibootmgr dosfstools openssh os-prober mtools linux-headers linux-lts linux-lts-headers
</span></span><span class="line"><span class="cl">// grub-install [--target=x86_64-efi] --efi-directory=/efi [--bootloader-id=&lt;your boot name&gt;]
</span></span><span class="line"><span class="cl">grub-install --target=x86_64-efi --bootloader-id=&lt;your boot name&gt; --recheck
</span></span><span class="line"><span class="cl">//set locale for grub
</span></span><span class="line"><span class="cl">//cp /usr/share/locale/en\@quot/LC_MESSAGES/grub.mo /boot/grub/locale/en.mo
</span></span><span class="line"><span class="cl">grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="install-network-control-tool--iwd">install network control tool : iwd</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pacman -S iwd
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="config-your-network">config your network</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//[General]
</span></span><span class="line"><span class="cl">//EnableNetworkConfiguration=true
</span></span><span class="line"><span class="cl">vim /etc/iwd/main.conf
</span></span><span class="line"><span class="cl">//or install dhcpcd
</span></span><span class="line"><span class="cl">pacman -S dhcpcd
</span></span><span class="line"><span class="cl">systemctl start dhcpcd
</span></span><span class="line"><span class="cl">systemctl enable dhcpcd
</span></span><span class="line"><span class="cl">//start and enable some service about your networks
</span></span><span class="line"><span class="cl">systemctl start iwd.service
</span></span><span class="line"><span class="cl">systemctl enable iwd.service
</span></span><span class="line"><span class="cl">systemctl start systemd-resolved.service
</span></span><span class="line"><span class="cl">systemctl enable systemd-resolved.service
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>note:</strong> then you can connect your network like above</p>
<h5 id="add-user">add user</h5>
<p>I add user into the group wheel</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">useradd -m -G &#34;extra group&#34; -s &#34;login shell&#34; &#34;username&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="give-user-sudo-permission">give user sudo permission</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pacman -S sudo
</span></span><span class="line"><span class="cl">//add &#34;yourname ALL=(ALL) ALL&#34; under the line &#34;root ALL=(ALL) ALL&#34;
</span></span><span class="line"><span class="cl">vim /etc/sudoers
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="install-fonts">install fonts</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//english font
</span></span><span class="line"><span class="cl">pacman -S ttf-dejavu
</span></span><span class="line"><span class="cl">//chinese fonts
</span></span><span class="line"><span class="cl">pacman -S wqy-microhei
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="some-other-softwares">some other softwares</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//Xarchiver is a front-end to various command line archiving tools for Linux and BSD operating systems, designed to be independent of the desktop environment.  It is the default archiving application of Xfce and LXDE.It handles encrypted *.7z, *.arj, *.lrz, *.rar and *.zip archives
</span></span><span class="line"><span class="cl">   pacman -S xarchiver
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   //mount filetype ntfs
</span></span><span class="line"><span class="cl">   pacman -S ntfs-3g
</span></span><span class="line"><span class="cl">   //voice
</span></span><span class="line"><span class="cl">   //sudo pacman -S alsa-utils alsa-plugins alsa-lib
</span></span><span class="line"><span class="cl">   //alsamixer
</span></span><span class="line"><span class="cl">   pacman -S pulseaudio
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   //you can install .deb
</span></span><span class="line"><span class="cl">   //dpkg -i *****.dev
</span></span><span class="line"><span class="cl">   pacman -S dpkg
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   //some base-devel
</span></span><span class="line"><span class="cl">   pacman -S base-devel
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="last">last</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">reboot
</span></span><span class="line"><span class="cl">exit
</span></span><span class="line"><span class="cl">umount -R /mnt
</span></span><span class="line"><span class="cl">reboot
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="after-entering-arch">after entering arch</h2>
<h5 id="install-display-service">install display service</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//install xorg(display server) or wayland()
</span></span><span class="line"><span class="cl">&lt;!-- pacman -S xorg --&gt;
</span></span><span class="line"><span class="cl">//install GPU driver that your computer supported
</span></span><span class="line"><span class="cl">//intel
</span></span><span class="line"><span class="cl">//pacman -S xf86-video-intel
</span></span><span class="line"><span class="cl">//NVIDIA
</span></span><span class="line"><span class="cl">//pacman -S xf86-video-nouveau
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="install-xfce4-desktop">install xfce4 desktop</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pacman -S xfce4 xfce4-goodies
</span></span><span class="line"><span class="cl">pacman -S lightdm lightdm-gtk-greeter
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//[Seat:*]
</span></span><span class="line"><span class="cl">//...
</span></span><span class="line"><span class="cl">//greeter-session=lightdm-gtk-greeter
</span></span><span class="line"><span class="cl">//...
</span></span><span class="line"><span class="cl">vim /etc/lightdm/lightdm.conf
</span></span><span class="line"><span class="cl">systemctl enable lightdm.service
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Or install gnome desktop</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pacman -S xorg
</span></span><span class="line"><span class="cl">pacman -S gnome
</span></span><span class="line"><span class="cl">pacman start gdm.service
</span></span><span class="line"><span class="cl">pacman enable gdm.service
</span></span><span class="line"><span class="cl">systemctl enable NetworkManager.service
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Or install sway desktop</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pacman -S sway qt5-wayland
</span></span><span class="line"><span class="cl">pacman -S gdm
</span></span><span class="line"><span class="cl">//config auto start sway:add the following code into .zshrc(my login shell exec zsh)
</span></span><span class="line"><span class="cl">if [ &#34;$(tty)&#34; = &#34;/dev/tty1&#34; ]; then
</span></span><span class="line"><span class="cl">    exec sway
</span></span><span class="line"><span class="cl">fi
</span></span></code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2021-05-18</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://januborer.github.io/archlinux_install/" data-title="Archlinux install"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="https://januborer.github.io/archlinux_install/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://januborer.github.io/archlinux_install/" data-title="Archlinux install" data-image="https://cdn5.maocdn.cn/img/2021/06/15/wp2618249-blackarch-wallpaper.png"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/linux/">Linux</a>,&nbsp;<a href="/tags/archlinux/">Archlinux</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
            <a href="/hugo-generate-site/" class="next" rel="next" title="Hugo Generate Site">Hugo Generate Site<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="gitalk" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://github.com/gitalk/gitalk"></a>Gitalk</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">less is more!</div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/januborer" target="_blank">borer</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/twemoji@13.0.0/dist/twemoji.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{"gitalk":{"admin":["januborer"],"clientID":"e7adb112ad4d070bb083","clientSecret":"01d433de61ff96af53e9b89b1565dc800373cab3","id":"2021-05-18T03:47:09+08:00","owner":"januborer","proxy":"https://shielded-brushlands-08810.herokuapp.com/https://github.com/login/oauth/access_token","repo":"jannuborer.github.io","title":"Archlinux install"}},"data":{"id-1":"Borer's","id-2":"Borer's"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"},"twemoji":true,"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
